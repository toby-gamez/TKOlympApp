<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:svc="clr-namespace:TkOlympApp.Services"
             xmlns:viewModels="clr-namespace:TkOlympApp.ViewModels"
             x:Class="TkOlympApp.Pages.CouplePage"
             x:DataType="viewModels:CoupleViewModel"
             Title="{svc:Translate Couple_Title}">

    <Grid RowDefinitions="Auto,*,Auto">
        <RefreshView Grid.Row="1"
                     IsRefreshing="{Binding IsRefreshing}"
                     Command="{Binding RefreshCommand}">
            <ScrollView>
                <VerticalStackLayout Padding="20" Spacing="12">
                    <Label TextColor="Red" IsVisible="{Binding IsErrorVisible}" Text="{Binding ErrorText}" Margin="0,0,0,8" />

                <!-- Top: couple name similar to AboutMePage -->
                <Border Padding="12">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="8" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="8" HorizontalOptions="Center">
                            <Label Text="{Binding ManNameValue}" FontSize="20" FontAttributes="Bold" />
                            <Label Text="{svc:Translate Couple_Separator}" FontSize="20" FontAttributes="Bold" />
                            <Label Text="{Binding WomanNameValue}" FontSize="20" FontAttributes="Bold" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Border>

                <Border Padding="12">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="8" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="8">
                        <HorizontalStackLayout Spacing="6">
                            <Label Text="{svc:Translate Couple_Id}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding IdValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>

                        <HorizontalStackLayout Spacing="6">
                            <Label Text="{svc:Translate Couple_CreatedAt}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding CreatedAtValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Border>

                <Border Padding="12">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="8" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{svc:Translate Couple_Man}" FontAttributes="Bold" />
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding OpenManCommand}" NumberOfTapsRequired="1" />
                        </Border.GestureRecognizers>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding ManFirstNameVisible}">
                            <Label Text="{svc:Translate Couple_FirstName}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding ManFirstNameValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding ManLastNameVisible}">
                            <Label Text="{svc:Translate Couple_LastName}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding ManLastNameValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding ManPhoneVisible}">
                            <Label Text="{svc:Translate Couple_Phone}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding ManPhoneValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Border>

                <Border Padding="12">
                    <Border.StrokeShape>
                        <RoundRectangle CornerRadius="8" />
                    </Border.StrokeShape>
                    <VerticalStackLayout Spacing="8">
                        <Label Text="{svc:Translate Couple_Woman}" FontAttributes="Bold" />
                        <Border.GestureRecognizers>
                            <TapGestureRecognizer Command="{Binding OpenWomanCommand}" NumberOfTapsRequired="1" />
                        </Border.GestureRecognizers>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding WomanFirstNameVisible}">
                            <Label Text="{svc:Translate Couple_FirstName}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding WomanFirstNameValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding WomanLastNameVisible}">
                            <Label Text="{svc:Translate Couple_LastName}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding WomanLastNameValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                        <HorizontalStackLayout Spacing="6" IsVisible="{Binding WomanPhoneVisible}">
                            <Label Text="{svc:Translate Couple_Phone}" FontAttributes="Bold" FontSize="12" />
                            <Label Text="{Binding WomanPhoneValue}" HorizontalOptions="StartAndExpand" FontSize="12" />
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </Border>
            </VerticalStackLayout>
            </ScrollView>
        </RefreshView>
        <!-- logout removed for this page -->
    </Grid>
</ContentPage>
