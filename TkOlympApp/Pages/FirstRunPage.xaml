<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:TkOlympApp.ViewModels"
             x:Class="TkOlympApp.Pages.FirstRunPage"
             x:DataType="viewModels:FirstRunViewModel"
             Title="{Binding TitleText}"
             Shell.NavBarIsVisible="False"
             Shell.TabBarIsVisible="False">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="16" VerticalOptions="Center">
            <Border Padding="12" StrokeThickness="0" BackgroundColor="#ee1733" HorizontalOptions="Center" VerticalOptions="Start" WidthRequest="88" HeightRequest="88" StrokeShape="{RoundRectangle CornerRadius=22}" Margin="0,8,0,0">
                <Image Source="appiconcombined.svg" HeightRequest="64" WidthRequest="64" Aspect="AspectFit" HorizontalOptions="Center" VerticalOptions="Center" />
            </Border>
            <Label FontSize="24" HorizontalOptions="Center" Text="{Binding TitleText}" />
            <Label FontSize="14" TextColor="Gray" HorizontalOptions="Center" HorizontalTextAlignment="Center" Text="{Binding BodyText}" />

            <CarouselView HeightRequest="520"
                          IndicatorView="indicatorView"
                          HorizontalOptions="FillAndExpand"
                          ItemsSource="{Binding Slides}"
                          Position="{Binding CarouselPosition, Mode=TwoWay}">
                <CarouselView.ItemTemplate>
                    <DataTemplate x:DataType="viewModels:FirstRunSlideItem">
                        <VerticalStackLayout Spacing="8" Padding="8" HorizontalOptions="FillAndExpand">
                            <Border Padding="0" StrokeThickness="1" HorizontalOptions="Center" VerticalOptions="Center" StrokeShape="{RoundRectangle CornerRadius=8}">
                                <Image Source="{Binding Image}" Aspect="AspectFit" HeightRequest="380" HorizontalOptions="Center" />
                            </Border>
                            <Label Text="{Binding Caption}" HorizontalOptions="Center" HorizontalTextAlignment="Center" FontSize="16" />
                        </VerticalStackLayout>
                    </DataTemplate>
                </CarouselView.ItemTemplate>
            </CarouselView>

            <IndicatorView x:Name="indicatorView" IndicatorColor="#BBBBBB" SelectedIndicatorColor="#333333" HorizontalOptions="Center" />

            <Button Text="{Binding CurrentButtonText}"
                    Command="{Binding NextCommand}"
                    HorizontalOptions="Center"
                    Margin="0,8,0,0" />
        </VerticalStackLayout>
    </ScrollView>

</ContentPage>
