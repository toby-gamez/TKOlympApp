<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:svc="clr-namespace:TkOlympApp.Services"
             xmlns:viewModels="clr-namespace:TkOlympApp.ViewModels"
             x:Class="TkOlympApp.Pages.ChangePasswordPage"
             x:DataType="viewModels:ChangePasswordViewModel"
             Title="{svc:Translate ChangePassword_Title}">

    <Grid RowDefinitions="Auto,*,Auto" Padding="20">
        <Label Text="Zadejte nové heslo" FontAttributes="Bold" FontSize="18"/>

        <VerticalStackLayout Grid.Row="1" Spacing="12">
            <Border StrokeThickness="{Binding NewPassStrokeThickness}"
                    Stroke="{Binding NewPassStroke}"
                    Padding="8"
                    Margin="0,12,0,0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="8" />
                </Border.StrokeShape>
                <VerticalStackLayout Spacing="6">
                    <Entry IsPassword="True"
                           Placeholder="Nové heslo"
                           Text="{Binding NewPassword}" />
                    <Label Text="{Binding LengthText}" FontSize="Small" />
                </VerticalStackLayout>
            </Border>

            <Border StrokeThickness="{Binding ConfirmPassStrokeThickness}"
                    Stroke="{Binding ConfirmPassStroke}"
                    Padding="8">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="8" />
                </Border.StrokeShape>
                <VerticalStackLayout Spacing="6">
                    <Entry IsPassword="True"
                           Placeholder="Potvrzení hesla"
                           Text="{Binding ConfirmPassword}" />
                    <Label Text="{Binding MatchText}" FontSize="Small" />
                </VerticalStackLayout>
            </Border>

            <Label TextColor="Red" IsVisible="{Binding IsErrorVisible}" Text="{Binding ErrorText}" />
        </VerticalStackLayout>

        <VerticalStackLayout Grid.Row="2" Spacing="8">
            <Button Text="{svc:Translate Button_ChangePassword}" Command="{Binding ChangeCommand}" HorizontalOptions="FillAndExpand" />
            <Button Text="{svc:Translate Button_Cancel}" Command="{Binding CancelCommand}" HorizontalOptions="FillAndExpand" Style="{StaticResource ButtonSecondary}" />
        </VerticalStackLayout>
    </Grid>
</ContentPage>
