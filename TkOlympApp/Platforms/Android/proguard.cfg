# Conservative ProGuard / R8 rules for MAUI app
# Keep generated bindings and runtime types to avoid crashes when enabling shrink/obfuscation.

# Keep generated CRC Java bindings used by the runtime
-keep class crc.** { *; }

# Keep MAUI / Microsoft packages just in case
-keep class com.microsoft.maui.** { *; }

# Keep Mono runtime helper classes
-keep class mono.** { *; }

# Keep AndroidX and support libraries
-keep class androidx.** { *; }
-keep class android.support.v4.** { *; }

# Keep any classes that have a public constructor taking a Context (activities, views)
-keepclassmembers class * {
    public <init>(android.content.Context);
}

# Preserve runtime annotations
-keepattributes *Annotation*

# Keep JavascriptInterface methods
-keepclassmembers class * {
    @android.webkit.JavascriptInterface <methods>;
}

# Be conservative: don't warn about missing third-party annotations
-dontwarn javax.annotation.**
-dontwarn okio.**

# Note: This file is intentionally conservative to avoid runtime issues during an upgrade.
# You can refine and tighten rules after verifying the Release build on devices/emulators.
